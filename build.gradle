apply plugin: 'java'
apply plugin: 'application'

mainClassName = "net.onyxfox.html5creator.HTML5Creator"

jar {
	baseName = 'OFD-HTML5-Generator'
	version = '0.0.1'
	manifest {
		attributes 'Main-Class': 'net.onyxfox.html5creator.HTML5Creator'
	}
}

task wrapper(type: Wrapper) {
	gradleVersion = '2.1'
}

task gitPush(type:Exec, dependsOn:"gitCommitAll") {
	def cmd = ['git', 'push']
	commandLine cmd
}

task gitCommitAll(type:Exec) {
	def console = System.console()
	def commitMsg
	if (console) {
		commitMsg = console.readLine('> GitHub Commit Message: ')
		def cmd = ['git', 'commit', '-a', '-m', commitMsg]
		commandLine cmd
	} else {
		logger.error "Cannot get console."
	}	
}
